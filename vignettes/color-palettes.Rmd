---
title: "Vignette Title"
author: "Vignette Author"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
library(MicrobiomeR)
pkg.data <- MicrobiomeR:::pkg.private
```

# Introduction

The color palette workflow created for MicrobiomeR are based on the 
`get_color_palette(pal_func = ...)` with a palette function that returns
`grDevices::colorRampPalette(...)` (called), `grDevices::colorRampPalette` (not called),
or a color palette function that returns a character vector.  Several palette funcitons
come built with MicrobiomeR and are used in the plotting functions.

## Basics:  Getting a Color Palette

Getting a color palette is simple.  You can toggle the palette preview with `display=FALSE`.

```{r message=FALSE, warning=FALSE}
analyzed_silva <- as_MicrobiomeR_format(MicrobiomeR::raw_silva_2, "analyzed_format")
data <- analyzed_silva$data$stats_tax_data$Phylum
data_len <- length(unique(data))
custom_pal <- get_color_palette(color_no=data_len)
print(custom_pal)

```

## Basics: Scico and Viridis

We have built in support for the [scico](https://github.com/thomasp85/scico) package...

```{r message=FALSE, warning=FALSE}
basic_pal <- scico_palette(scico_palette="hawaii")(25)
pie(rep(1, length(basic_pal)), col=basic_pal)
print(basic_pal)
better_pal <- get_color_palette(pal_func = scico_palette, color_no = 25)
print(better_pal)
```

```{r message=FALSE, warning=FALSE}
basic_pal <- viridis::viridis(n=25, option="magma")
pie(rep(1, length(basic_pal)), col=basic_pal)
print(basic_pal)
better_pal <- get_color_palette(pal_func = viridis_palette, color_no = 25)
print(better_pal)
```
